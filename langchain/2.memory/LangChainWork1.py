from callFunction import *

llm = ChatOpenAI(model="gpt-4o-mini", temperature=0.7)

parser = StrOutputParser()

prompt = ChatPromptTemplate.from_messages([
    ("system", """당신은 기술 개념을 쉬운 비유와 예시를 섞어서 설명하는 AI 선생님입니다.
사용자의 질문에 대해 반드시 다음 세 가지 요소를 포함하여 답변하세요:
1. 개념: 기술 용어의 정확한 개념 설명
2. 중요성: 왜 이 기술이 중요한지, 어떤 문제를 해결하는지 설명
3. 쉬운 예시: 일상생활의 비유를 들어 IT 초보자도 이해할 수 있게 설명"""),
    ("user", "{question}")
])

chain = prompt | llm | parser

while True:
    user_input = input("\n질문(종료는 exit 입력): ")
    
    if user_input.lower() == "exit":
        break
    
    response = chain.invoke({"question": user_input})

    print(f"\n답변:\n\n {response}")
    
'''
질문(종료는 exit 입력): REST API란?

답변:

 1. **개념**: REST API(Representational State Transfer Application Programming Interface)는 웹 서비스와 클라이언트 간의 통신을 위한 규칙과 형식을 정리한 것입니다. REST는 HTTP 프로토콜을 기반으로 하 며, 자원(Resource)을 URL로 표현하고, 이 자원에 대한 CRUD(Create, Read, Update, Delete) 작업을 HTTP 메서드(GET, POST, PUT, DELETE)로 수행합니다.

2. **중요성**: REST API는 시스템 간의 상호작용을 쉽게 만들어 줍니다. 예를 들어, 다양한 웹 서비스와 애플리케이션이 서로 정보를 주고받을 수 있도록 해 주는데, 이는 데이터 통합이나 기능 확장을 가능하게 합니다. 이를 통해 개발자들은 여러 시스템을 연결하여 복잡한 애플리케이션을 만드는 데 필요한 시간을  단축할 수 있습니다.

3. **쉬운 예시**: REST API를 카페에서의 주문 시스템에 비유해볼 수 있습니다. 카페에 가면 메뉴판이 놓여 있고, 손님은 메뉴에서 원하는 음료를 선택합니다. 여기서 메뉴판이 URL이고, 손님이 선택하는 음료가 자원입니다. 손님이 "아메리카노 한 잔 주세요"라고 요청하면, 이는 "GET" 요청입니다. 만약 손님이 "아메리카노를 추가로 한 잔 더 주세요"라고 하면, 이는 "POST" 요청이죠. 이렇게 카페에서의 주문처럼, REST API는 클라이언트가 서버에 자원을 요청하고, 서버가 그에 맞춰 응답을 하는 방식으로 작동합니다.

질문(종료는 exit 입력): RAG는 어떤 구조야?

답변:

 1. **개념**: RAG는 "Retrieval-Augmented Generation"의 약자로, 정보 검색과 생성 모델을 결합한 구조 입니다. 이 구조는 먼저 질문에 대한 관련 정보를 외부 데이터베이스나 문서에서 검색한 후, 그 정보를 바탕으로 답변을 생성합니다. 즉, RAG는 정보를 "찾아내는" 단계와 "생성하는" 단계를 동시에 수행하는 방식입니다.

2. **중요성**: RAG의 중요성은 더 정확하고 풍부한 정보를 제공할 수 있다는 점에 있습니다. 전통적인 생성 모델은 훈련된 데이터에만 의존하지만, RAG는 실시간으로 최신 정보나 특정 데이터를 검색하여 그에 기반한 답변을 제공합니다. 이로 인해 사용자가 필요한 정보를 더 잘 찾고, 좀 더 맥락에 맞는 응답을 받을 수 있습니다.

3. **쉬운 예시**: RAG 구조를 이해하기 쉽게 설명하자면, 마치 도서관에서 책을 찾는 것과 비슷합니다.  만약 친구가 "최근에 좋은 요리책 추천해줘!"라고 물어본다면, RAG는 먼저 도서관의 서가에서 최신 요리책을 검색하고, 그런 다음 그 정보를 바탕으로 "이 책이 좋아!"라고 대답하는 것과 같습니다. 그래서 RAG는 단순히 기억하고 있는 정보로 대답하는 것이 아니라, 항상 새로운 정보를 찾아서 제공할 수 있는 능력을  갖추고 있습니다.

질문(종료는 exit 입력): exit    
'''

